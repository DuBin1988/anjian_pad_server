测试目的：交费以后先冲正，再抄表撤销，再抄表录入时，看上次抄表底数是否撤回。

1. 测试准备

1.1 在数据库里清除所有用户档案，抄表记录，交费记录。

delete from t_userfiles;
delete from t_sellinggas;
delete from t_handplan;

1.2 将用户编号预设为11000000

update t_singlevalue set value=0 where name='西安奥枫软件有限公司用户编号'

1.3 将民用临界气量设置为50方
1.4 将临界内气价设为1.1元
1.5 将临界外气价设为1.98元

update t_singlevalue set value=1.98 where name='临界外气价'

2. 建立档案

2.1 气表类型选择机表，用户姓名输入test1。
2.2 气表指数默认为0，余额默认为0，保存。

3. 抄表录入

3.1 进入抄表录入界面，输入11000000，找出用户。
3.1 本次指数录入12方，金额应当为13.2元。
3.2 保存。

4. 机表交费

4.1 进入交费界面，输入11000000，找出用户
4.2 应交费金额，应当为13.2元
4.3 录入交费金额30.5元，本次余额应当为17.3元。
4.4 然后在交费信息中查询，用一笔记录，为有效。

5.交费冲正

5.1 进入交费冲正界面，输入11000000，找出用户
5.2 核对上期结余为0和本期结余17.3，上期指数0，本期指数12，用气量12，用气金额13.2 ，应交金额13.2，收款30.5，然后填写冲正原因：正常交费撤销。
然后冲正，查询交费信息，有一笔交费记录，状态是无效。

6.抄表撤销

6.1 进入抄表撤销界面，输入test1，找出用户11000000。
6.2 核对上次抄表底数0，本次抄表底数12，本月用气量12，用气金额13.2元，本期结余和上期结余都是0，
填写撤销原因：交费冲正后撤销。
6.3 然后保存，在机表抄表信息中查询，输入test1，找出用户11000000，抄表状态变成了未抄表。

7.继续抄表录入

7.1 进入抄表录入界面，输入test1，找出用户11000000。
7.2 上次抄表底数应为0，本次抄表底数录入51.显示用气量51，用气金额56.98，临界内金额55，临界外金额1.98.本期余额和上期余额都为0，交费状态显示未交费，
7.3 然后保存。

8. 机表交费

8.1 进入交费界面，输入11000000，找出用户
8.2 应交费金额，应当为56.98元
8.3 录入交费金额60元，本次余额应当为3.02元。
8.4 然后在交费信息中查询，用两笔记录，一笔无效，一笔有效。

9.交费冲正

9.1 进入交费冲正界面，输入11000000，找出用户
9.2 核对上期结余为0和本期结余3.02，上期指数0，本期指数51，用气量51，用气金额56.98 ，应交金额56.98，收款60，然后填写冲正原因：正常交费撤销。
然后冲正，查询交费信息，有两笔交费记录，状态都是无效。

10.抄表撤销

10.1 进入抄表撤销界面，输入test1，找出用户11000000。
10.2 核对上次抄表底数0，本次抄表底数51，本月用气量51，用气金额56.98元，临界内金额55，临界外金额1.98,本期结余和上期结余都是0 。
填写撤销原因：交费冲正后撤销。
10.3 然后保存，在机表抄表信息中查询，输入test1，找出用户11000000，抄表状态变成了未抄表。在用户档案中查询用户11000000，账户余额为0.
